import { ref, reactive } from 'vue';
import { Meta, Story, Canvas } from '@storybook/addon-docs';
import DFade from './d-fade.vue';
import DSlide from './d-slide.vue';
import DSlideFade from './d-slide-fade.vue';
import { DButton } from '@daria/button';
import { DFlex } from '@daria/layout';

<Meta title="Components/Transitions" />

# Transitions

TODO

export const DFadeTemplate = args => ({
  components: { DFade, DButton },
  setup() {
    const isVisible = ref(false);
    return { isVisible };
  },
  template: `
  <DButton @click="isVisible = !isVisible">Toggle</DButton>
  <DFade :is-visible="isVisible">
    I am the content
  </DFade>`
});

<Canvas>
  <Story name="Fade">{DFadeTemplate.bind({})}</Story>
</Canvas>

export const DSlideTemplate = args => ({
  components: { DSlide, DFlex, DButton },
  setup() {
    const state = reactive({ isVisible: false, invertOnOut: false });
    return { state };
  },
  template: `
  <DFlex gap="3" align="center">
    <DButton @click="state.isVisible = !state.isVisible">Toggle</DButton>
    <label>
      <input type="checkbox" v-model="state.invertOnOut" />
      Invert on out
    </label>
  </DFlex>
  <DSlide :is-visible="state.isVisible" :distance="100" :invert-on-out="state.invertOnOut">
    I am the content
  </DSlide>`
});

<Canvas>
  <Story name="Slide">{DSlideTemplate.bind({})}</Story>
</Canvas>

export const DSlideFadeTemplate = args => ({
  components: { DSlideFade, DFlex, DButton },
  setup() {
    const state = reactive({ isVisible: false, invertOnOut: false });
    return { state };
  },
  template: `
  <DFlex gap="3" align="center">
    <DButton @click="state.isVisible = !state.isVisible">Toggle</DButton>
    <label>
      <input type="checkbox" v-model="state.invertOnOut" />
      Invert on out
    </label>
  </DFlex>
  <DSlideFade :is-visible="state.isVisible" :distance="100" :invert-on-out="state.invertOnOut">
    I am the content
  </DSlideFade>`
});

<Canvas>
  <Story name="SlideFade">{DSlideFadeTemplate.bind({})}</Story>
</Canvas>
